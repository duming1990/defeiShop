/*
 * jQuery plugin "tabs switch" by Ethanwoo 
 * mail:ethanwooblog@gmail.com
 *
 * Copyright , Ethanwoo
 * version 1.0 
 * Date : 2011-12-13
 * version 1.1 add classtabs ; date 2011-12-14
 * version 1.2 add isanimal ; date 2011-12-15
 * version 1.3 add event timeshow; date 2012-5-24
 * version 1.4 add event flow; date 2013-5-29
 */
(function(b){b.fn.tytabs=function(c){var e={prefixtabs:"tab",prefixcontent:"content",classcontent:"tabscontent",classtabs:"tabs",classselectedtab:"current",tabinit:"1",catchget:"tab",fadespeed:"fast",isanimal:true,isflow:false,event:"click",timeshow:200},d=b.extend({},e,c);return this.each(function(){var m=b(this);d.classcontent="."+d.classcontent;d.prefixcontent="#"+d.prefixcontent;var g=b("ul."+d.classtabs+" li",m),f;var j=b("#"+d.prefixtabs+"flow");function i(p){b(d.classcontent,m).stop(true,true);var n=b(d.classcontent+":visible",m);if(n.length>0){if(d.isanimal){n.fadeOut(d.fadespeed,function(){l(p)})}else{n.hide();l(p)}}else{l(p)}b("#"+d.prefixtabs+d.tabinit).removeAttr("class");b("#"+d.prefixtabs+p).attr("class",d.classselectedtab);if(d.isflow){var o=(p-1)*b("#"+d.prefixtabs+p).width();j.animate({left:o+"px"})}d.tabinit=p}function l(n){if(d.isanimal){b(d.prefixcontent+n,m).fadeIn(d.fadespeed)}else{b(d.prefixcontent+n,m).show()}}var h=function(o,p){var n=o.attr("id").replace(d.prefixtabs,"");p?f=setTimeout(function(){i(n)},p):i(n)};if(d.event=="hover"){d.isanimal=false;g.hover(function(){h(b(this),d.timeshow)},function(){clearTimeout(f)})}else{g.click(function(){i(b(this).attr("id").replace(d.prefixtabs,""));return false})}var k=a(d.catchget);i(((k&&b(d.prefixcontent+k).length==1)?k:(b(d.prefixcontent+d.tabinit).length==1)?d.tabinit:"1"))})};function a(e,d){d=(d)?d:window.location.search;var c=new RegExp("&"+e+"=([^&]*)","i");return(d=d.replace(/^\?/,"&").match(c))?d=d[1]:d=""}})(jQuery);